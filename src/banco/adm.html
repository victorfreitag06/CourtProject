<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Court</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>
		<link rel="stylesheet" href="../../css/adm.css">
</head>

<body>
	<div class="container">
		<header>
			<a href="/">
				<span class="titulo">Gerenciar Court</span>
			</a>
			<div class="selection-menu-banco">
				<button class="option-banco active" onclick="showBanco('inicio', this)">Incio</button>
				<button class="option-banco" onclick="showBanco('usuarios', this)">Usuarios</button>
				<button class="option-banco" onclick="showBanco('cadastro', this)">Cadastro</button>
			</div>
		</header>
		<div id="inicio" class="banco-rolagem show">
			<div class="content">
				<h1>Bem vindo ao sistema de gerenciamento da COURT</h1>
				<p>Utilize o menu superior para navegar em Usuario</p>


				<div id="CourtCarousel" class="carousel slide" data-bs-ride="carousel">
					<div class="carousel-inner">
						<div class="carousel-item active">
							<img src="../../images/quarto.jpg" class="d-block w-100 img-fluid" alt="Court image 1">
						</div>
						<div class="carousel-item">
							<img src="../../images/quarto.jpg" class="d-block w-100 img-fluid" alt="Court image 2">
						</div>
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#CourtCarousel"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon minimal-control" aria-hidden="true"></span>
						<span class="visually-hidden">Anterior</span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#CourtCarousel"
						data-bs-slide="next">
						<span class="carousel-control-next-icon minimal-control" aria-hidden="true"></span>
						<span class="visually-hidden">Próximo</span>
					</button>
				</div>



			</div>
		</div>

		<div id="usuarios" class="banco-rolagem ">
			<div class="content">
				<h2>Usuario</h2>
				<button class="btn btn-primary mb-3" onclick="showAddGuestForm()">Incluir</button>
				<table class="table">
					<thead>
						<table class="table">
							<thead>
								<tr>
									<th>ID</th>
									<th>Nome</th>
									<th>CPF</th>
									<th>Telefone</th>
									<th>Rua</th>
									<th>Número</th>
									<th>Bairro</th>
									<th>Email</th>
									<th>Data de Nascimento</th>
									<th>Senha</th>
									<th>Ações</th>
								</tr>
							</thead>
							<tbody id="guestTableBody">
								<!-- As linhas dos hóspedes serão adicionadas aqui dinamicamente -->
							</tbody>
						</table>

					</thead>
					<tbody id="guestTableBody">
						<!-- As linhas dos hóspedes serão adicionadas aqui dinamicamente -->
					</tbody>
				</table>
			</div>

			<div id="guestFormModal" style="display:none;">
				<h3 id="formTitle">Incluir Usuario</h3>
				<form id="guestForm">
					<input type="hidden" id="guestId">
					<div class="mb-3">
						<label for="guestNome" class="form-label">Nome</label>
						<input type="text" class="form-control" id="guestNome" required
							placeholder="Insira o nome do hóspede">
					</div>
					<div class="mb-3">
						<label for="guestCpf" class="form-label">CPF</label>
						<input type="text" class="form-control" id="guestCpf" required placeholder="Insira o CPF">
					</div>
					<div class="mb-3">
						<label for="guestTelefone" class="form-label">Telefone</label>
						<input type="text" class="form-control" id="guestTelefone" required
							placeholder="Insira o telefone">
					</div>
					<div class="mb-3">
						<label for="guestRua" class="form-label">Rua</label>
						<input type="text" class="form-control" id="guestRua" required placeholder="Insira a rua">
					</div>
					<div class="mb-3">
						<label for="guestNumero" class="form-label">Número</label>
						<input type="text" class="form-control" id="guestNumero" required placeholder="Insira o número">
					</div>
					<div class="mb-3">
						<label for="guestBairro" class="form-label">Bairro</label>
						<input type="text" class="form-control" id="guestBairro" required placeholder="Insira o bairro">
					</div>
					<div class="mb-3">
						<label for="guestEmail" class="form-label">Email</label>
						<input type="email" class="form-control" id="guestEmail" required placeholder="Insira o email">
					</div>
					<div class="mb-3">
						<label for="guestNascimento" class="form-label">Data de Nascimento</label>
						<input type="date" class="form-control" id="guestNascimento" required>
					</div>
					<div class="mb-3">
						<label for="guestSenha" class="form-label">Senha</label>
						<input type="password" class="form-control" id="guestSenha" required>
					</div>
					<button type="submit" class="btn btn-primary">Salvar</button>
					<button type="button" class="btn btn-secondary" onclick="closeGuestForm()">Cancelar</button>
				</form>
			</div>
		</div>
		<div id="cadastro" class="banco-rolagem">
			<div class="login-container">
				<div class="login-form">
					<div class="tit">
						<h2>Cadastro de Usuario</h2>
					</div>
					<input type="email" id="email" placeholder="Email" required>
					<input type="text" id="nome" placeholder="Nome" class="full-width" required>
					<input type="password" id="senha" placeholder="Senha" required>
					<input type="text" id="telefone" placeholder="Telefone" required>
					<input type="text" id="cpf" placeholder="CPF" class="full-width" required>
					<input class="data" type="date" id="nascimento" placeholder="Nascimento" required>
					<input type="text" id="bairro" placeholder="Bairro" required>
					<input type="text" id="numero" placeholder="Número" required>
					<input class="num" type="text" id="rua" placeholder="Rua" required>
					<div class="butao">
						<button id="cadastrarBtn">CADASTRAR</button>
					</div>
				</div>
			</div>

			<!-- Toast Notifications -->
			<div id="toast" class="toast" style="display: none;"></div>

			<script>
				$(document).ready(function () {
					$('#cadastrarBtn').click(function (event) {
						event.preventDefault(); // Prevenir o comportamento padrão do botão

						// Capturar os dados do formulário
						const usuario = {
							email: $('#email').val(),
							nome: $('#nome').val(),
							senha: $('#senha').val(),
							telefone: $('#telefone').val(),
							cpf: $('#cpf').val(),
							nascimento: $('#nascimento').val(),
							bairro: $('#bairro').val(),
							numero: $('#numero').val(),
							rua: $('#rua').val()
						};

						// Validação simples para garantir que todos os campos estejam preenchidos
						if (Object.values(usuario).some(campo => campo === "")) {
							showToast('Por favor, preencha todos os campos obrigatórios.', 'error');
							return;
						}

						// Armazenar as credenciais no localStorage
						localStorage.setItem('email', usuario.email);
						localStorage.setItem('senha', usuario.senha);

						// Fazer a requisição AJAX para enviar os dados ao servidor
						$.ajax({
							url: '/usuario/', // URL da API que irá receber os dados
							type: 'POST',
							contentType: 'application/json',
							data: JSON.stringify(usuario),
							success: function (response) {
								showToast('Cadastro realizado com sucesso! Redirecionando para página de login.', 'success');
								// Redirecionar após o fechamento do alerta
								setTimeout(function () {
									window.location.href = 'login.html';
								}, 3000); // Atraso de 3 segundos
							},
							error: function (error) {
								showToast('Não foi possível realizar o cadastro. Por favor, tente novamente mais tarde.', 'error');
							}
						});
					});

					function showToast(message, type) {
						const toast = $('#toast');
						toast.text(message);
						toast.removeClass('success error').addClass(type);
						toast.fadeIn(400).delay(3000).fadeOut(400);
					}
				});
			</script>
		</div>
	

	<footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
		<p class="col-md-4 mb-0 text-muted">&copy; 2024 Gerenciamento de Court</p>
	</footer>
	</div></div>

	<script>
		// Efeito de navegação suave para a rolagem da página
		document.querySelectorAll('a').forEach(anchor => {
			anchor.addEventListener('click', function (e) {
				if (this.getAttribute('href').startsWith('#')) {
					e.preventDefault();
					document.querySelector(this.getAttribute('href')).scrollIntoView({
						behavior: 'smooth'
					});
				}
			});
		});

		// Animação ao passar o mouse sobre o menu
		const navLinks = document.querySelectorAll('.nav-link');
		navLinks.forEach(link => {
			link.addEventListener('mouseenter', () => {
				link.style.transform = 'scale(1.1)';
				link.style.transition = 'transform 0.2s ease';
			});
			link.addEventListener('mouseleave', () => {
				link.style.transform = 'scale(1)';
			});
		});
	</script>
	<script src="../../js/active.js"></script>
</body>

</html>